# LaLiga AI Predictor - Full Stack Microservices System

![Java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)
![Spring Boot](https://img.shields.io/badge/Spring_Boot-F2F4F9?style=for-the-badge&logo=spring-boot)
![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2CA5E0?style=for-the-badge&logo=docker&logoColor=white)

**The Arena** is a distributed predictive analytics platform designed to forecast football match outcomes using historical data and machine learning algorithms. The system is built upon a robust Spring Boot backend, utilizes a decoupled Python AI microservice for statistical modeling, and implements a secure Two-Token Authentication architecture to ensure data integrity and user security.

> **Deployment Status:** This application was previously live on a distributed cloud architecture (Render for Backend/AI, Vercel for Frontend). It is currently offline to conserve cloud resources. The video demos below demonstrate the fully functional production build.

---

## üì∫ Project Workflows & Capabilities

### 1. User Experience (The Fan)

*The primary interface where users consume data, analyze predictions, and interact with the system.*

[**‚ñ∂Ô∏è WATCH DEMO: User Workflow**](INSERT_USER_VIDEO_LINK_HERE)

**Core Capabilities:**

- **Secure Authentication:** Seamless login via Email/Password or Google OAuth2.
- **Fixture Navigation & Match History:** Users can browse fixtures across every matchweek of the La Liga season. Selecting a specific match reveals detailed historical contexts, including head-to-head records and recent team form.
- **AI Glass Box Analysis:** The interface displays Win/Draw/Loss probabilities generated by the Random Forest model. Crucially, the system provides immediate transparency by displaying the algorithmic rationale behind every forecast, distinguishing it from traditional black-box betting sites.
- **Upset Detection:** The model specifically calculates where the statistical probability of an underdog victory deviates significantly from standard market expectations. These high-value opportunities are flagged as **"Upset Alerts"** on the dashboard, highlighting potential shocks before they happen.
- **Dynamic Season Simulation:** An interactive Monte Carlo simulation graph tracks the championship probabilities of top teams. This data is not static; as the season progresses and results are finalized, the simulation updates to reflect the changing reality of the league table.
- **Community Polling:** A real-time voting system allows users to cast their predictions, enabling a direct comparison between fan sentiment and AI logic.

### 2. Administrator (The Engine Room)

*A protected dashboard for managing the data pipeline and orchestration.*

[**‚ñ∂Ô∏è WATCH DEMO: Admin Workflow**](INSERT_ADMIN_VIDEO_LINK_HERE)

**Core Capabilities:**

- **Pipeline Orchestration:** Manually trigger the Python AI Microservice to re-train models and generate predictions for upcoming weeks.
- **Data Injection & Real-Time Recalibration:** Update fixture scores for completed matches. This action immediately feeds back into the database, triggering a recalculation of the Monte Carlo simulation and updating the "Season Governance" leaderboard with the new championship odds.
- **User Governance:** View user list, manage roles (Promote to Admin/Demote), and handle account deletions.
- **System Health:** View status of the AI service connection and database integrity.

---

## üß† How the AI Works (The Logic)

Since this project separates the Application Logic (Java) from the Data Logic (Python), the AI engine runs as an independent microservice.

1. **Data Sourcing:** The engine aggregates 10 years of historical La Liga match data.

2. **Feature Engineering:**
   - **Rolling Form:** Calculates team strength based on the last 5 games.
   - **Head-to-Head:** Weighs historical dominance between specific pairs.

3. **The Algorithm:** We use a Random Forest Classifier. It handles non-linear relationships well (e.g., a strong team playing badly away from home) and allows us to extract Feature Importance for the UI explanations.

4. **Season Simulation:** The engine plays out the remaining fixtures 1,000 times to calculate the percentage chance of a team winning the league.

---

## üèóÔ∏è System Architecture

The application follows a microservices architecture with clear separation of concerns:

1. **Frontend (React + Vite):** Hosted on Vercel. Handles UI, dynamic graphs (Recharts), and Axios interceptors for auth.

2. **Core Backend (Spring Boot):** Hosted on Render. Handles Security (Spring Security), User Management, Email (Brevo SMTP), and acts as the API Gateway.

3. **AI Engine (Python FastAPI):** Hosted on Render (Docker). Dedicated purely to statistical modeling. It runs isolated from the business logic.

4. **Database (PostgreSQL):** Shared source of truth. Java manages the schema; Python reads/writes predictions.

---

## üîê Security Highlight: Two-Token Auth

To mitigate XSS and CSRF vulnerabilities, the app uses a stateless authentication strategy:

- **Access Token (JWT):** Short-lived (15 min), stored in React memory. Used for API access.
- **Refresh Token:** Long-lived (7 days), stored in an HttpOnly, Secure Cookie. It is automatically rotated to maintain the session without exposing credentials to JavaScript.

---

## üõ†Ô∏è Tech Stack

- **Backend:** Java 17, Spring Boot 3, Spring Security 6, Hibernate/JPA
- **AI/Data:** Python 3.10, Pandas, Scikit-Learn, FastAPI, Uvicorn
- **Frontend:** React.js, Tailwind CSS, Recharts, Axios
- **DevOps:** Docker, Docker Compose, Git, Render, Vercel
- **Integrations:** Google OAuth2, Brevo (Transactional Email)

---

## üíª Getting Started (Local)

### 1. Clone the repository

```bash
git clone https://github.com/yourusername/laliga-predictor.git
cd laliga-predictor
```

### 2. Configure Environment

Rename `.env.example` to `.env` and fill in your API keys (Google/Brevo).

```bash
cp .env.example .env
```

> **Note:** You don't need to install PostgreSQL. Docker will create a fresh database instance based on the credentials you put in this file.

### 3. Run with Docker Compose

```bash
docker-compose up --build
```

### 4. Access the App

- **Frontend:** http://localhost:5173
- **Backend API:** http://localhost:8080
- **AI Microservice:** http://localhost:8000

---

## üìß Contact

**Rares Palade**

- [LinkedIn Profile](YOUR_LINKEDIN_URL)
- rrspld@gmail.com

---

## üìù License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
